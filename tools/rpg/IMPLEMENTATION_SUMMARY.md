# RPG Generator –¥–ª—è py_accountant - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 28 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

---

## –û–±–∑–æ—Ä

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Repository Planning Graph (RPG) –¥–ª—è Python –ø—Ä–æ–µ–∫—Ç–æ–≤. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–ª–µ–¥—É—é—Ç –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ RPG –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä—É–ø–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ (–≤ `tools/rpg/`)

1. **`__init__.py`** (15 —Å—Ç—Ä–æ–∫)
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞ RPG
   - –≠–∫—Å–ø–æ—Ä—Ç –≤–µ—Ä—Å–∏–∏

2. **`analyzer.py`** (212 —Å—Ç—Ä–æ–∫)
   - `CodeAnalyzer` - –∞–Ω–∞–ª–∏–∑ Python –∫–æ–¥–∞ —á–µ—Ä–µ–∑ AST
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤, —Ñ—É–Ω–∫—Ü–∏–π, –º–µ—Ç–æ–¥–æ–≤
   - –ê–Ω–∞–ª–∏–∑ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ docstrings –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤

3. **`graph_builder.py`** (265 —Å—Ç—Ä–æ–∫)
   - `GraphBuilder` - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞—Ñ–∞
   - `RPGNode` - —É–∑–ª—ã –≥—Ä–∞—Ñ–∞ (–ø—Ä–æ–µ–∫—Ç, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —Ñ–∞–π–ª—ã, –∫–ª–∞—Å—Å—ã, —Ñ—É–Ω–∫—Ü–∏–∏)
   - –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–µ–∫—Ç–∞ (—Ñ–∞–π–ª—ã, —Å—Ç—Ä–æ–∫–∏, –∫–ª–∞—Å—Å—ã, —Ñ—É–Ω–∫—Ü–∏–∏)
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

4. **`yaml_writer.py`** (226 —Å—Ç—Ä–æ–∫)
   - `YAMLWriter` - –∑–∞–ø–∏—Å—å –≥—Ä–∞—Ñ–∞ –≤ YAML —Ñ–æ—Ä–º–∞—Ç
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–≤–µ—Ä—Å–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∞—Ç–∞)
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)
   - –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è YAML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

5. **`generate_rpg.py`** (186 —Å—Ç—Ä–æ–∫)
   - –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
   - –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
   - –ß—Ç–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏–∑ `pyproject.toml`
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Poetry –∏ PEP 621 —Ñ–æ—Ä–º–∞—Ç–æ–≤

6. **`__main__.py`** (10 —Å—Ç—Ä–æ–∫)
   - Entry point –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–∞–∫ –º–æ–¥—É–ª—å
   - `python -m tools.rpg`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

7. **`README.md`** (520+ —Å—Ç—Ä–æ–∫)
   - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ RPG
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (CLI –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API)
   - CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (GitHub Actions)
   - Troubleshooting —Å–µ–∫—Ü–∏—è
   - –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

8. **`QUICK_REFERENCE.md`** (323 —Å—Ç—Ä–æ–∫–∏)
   - –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
   - –¢–∞–±–ª–∏—Ü–∞ –æ–ø—Ü–∏–π CLI
   - –ü—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
   - API reference
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ (pre-commit, Makefile, VS Code)

9. **`example_usage.py`** (68 —Å—Ç—Ä–æ–∫)
   - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ç—Ä—ë—Ö —à–∞–≥–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - –í—ã–≤–æ–¥ –º–µ—Ç—Ä–∏–∫ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```bash
python -m tools.rpg [OPTIONS]
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ü–∏–∏:**
- `--project-dir PATH` - –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
- `--output PATH` - –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `<project_name>_rpg.yaml`)
- `--src-dir PATH` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `src`)
- `--exclude PATTERN` - –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)
- `--version VERSION` - –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `--description TEXT` - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `--verbose, -v` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API

```python
from tools.rpg.analyzer import CodeAnalyzer
from tools.rpg.graph_builder import GraphBuilder
from tools.rpg.yaml_writer import YAMLWriter

# –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
analyzer = CodeAnalyzer(project_path)
modules = analyzer.analyze_directory(src_dir)

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞
builder = GraphBuilder(project_path, "project_name")
root = builder.build_graph(modules)
metrics = builder.calculate_metrics(root)
deps = builder.extract_dependency_graph(root)

# –ó–∞–ø–∏—Å—å –≤ YAML
writer = YAMLWriter("project_name", "1.0.0")
writer.write_to_file(root, output_path, metrics=metrics, dependency_graph=deps)
```

### –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- ‚úÖ –ö–ª–∞—Å—Å—ã (—Å –±–∞–∑–æ–≤—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏)
- ‚úÖ –ú–µ—Ç–æ–¥—ã (async/sync, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã)
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ (top-level, async/sync)
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –≤–Ω–µ—à–Ω–∏–µ)
- ‚úÖ Docstrings (–º–æ–¥—É–ª–∏, –∫–ª–∞—Å—Å—ã, —Ñ—É–Ω–∫—Ü–∏–∏)
- ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ (LOC, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ YAML

```yaml
rpg:
  metadata:
    project_name: "py-accountant"
    version: "0.1.0"
    description: "Async accounting ledger application"
    generated_at: "2025-11-28 10:30:28"
    generator: "rpg_generator.py v0.1.0"
  
  metrics:
    total_directories: 17
    total_files: 52
    total_classes: 112
    total_functions: 46
    total_methods: 217
    total_lines: 5926
    avg_lines_per_file: 113
    files_with_classes: 30
    files_with_functions: 23
  
  structure:
    # –ü–æ–ª–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
    name: "py-accountant"
    type: "project"
    children: [...]
  
  dependencies:
    # –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
    "path/to/module.py": ["dependency1", "dependency2"]
  
  functional_modules:
    # –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
    - name: "domain"
      classes: ["Account", "Ledger", ...]
      functions: ["create_account", ...]
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ py_accountant

**–ü—Ä–æ–µ–∫—Ç**: py_accountant (async accounting ledger)

**–ú–µ—Ç—Ä–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞:**
- ‚úÖ 52 Python —Ñ–∞–π–ª–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ 5,926 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- ‚úÖ 112 –∫–ª–∞—Å—Å–æ–≤ –Ω–∞–π–¥–µ–Ω–æ
- ‚úÖ 46 —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞–π–¥–µ–Ω–æ
- ‚úÖ 217 –º–µ—Ç–æ–¥–æ–≤ –Ω–∞–π–¥–µ–Ω–æ
- ‚úÖ 17 –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- ‚úÖ –°—Ä–µ–¥–Ω–µ–µ: 113 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞: ~1-2 —Å–µ–∫—É–Ω–¥—ã
- –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞: ~0.5 —Å–µ–∫—É–Ω–¥—ã
- –í—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ YAML: ~0.2 —Å–µ–∫—É–Ω–¥—ã
- **–û–±—â–µ–µ –≤—Ä–µ–º—è: ~2-3 —Å–µ–∫—É–Ω–¥—ã**

**–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:**
- ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–∞—Ä—Å—è—Ç—Å—è
- ‚úÖ 0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚ö†Ô∏è 2 minor warnings (–Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

```bash
# –¢–µ—Å—Ç 1: –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚úÖ python -m tools.rpg
–†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–∑–¥–∞–Ω py_accountant_rpg.yaml

# –¢–µ—Å—Ç 2: –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
‚úÖ python -m tools.rpg --output custom.yaml --verbose
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ + custom.yaml

# –¢–µ—Å—Ç 3: –ê–Ω–∞–ª–∏–∑ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
‚úÖ python -m tools.rpg --src-dir src/py_accountant/domain
–†–µ–∑—É–ª—å—Ç–∞—Ç: –∞–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ domain –º–æ–¥—É–ª—è

# –¢–µ—Å—Ç 4: –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API
‚úÖ python tools/rpg/example_usage.py
–†–µ–∑—É–ª—å—Ç–∞—Ç: —É—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API
```

---

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ RPG

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã RPG

1. ‚úÖ **–Ø–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
   - –ì—Ä–∞—Ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –∏–µ—Ä–∞—Ä—Ö–∏—è —É–∑–ª–æ–≤
   - –ö–∞–∂–¥—ã–π —É–∑–µ–ª –∏–º–µ–µ—Ç —á—ë—Ç–∫–∏–π —Ç–∏–ø (project, directory, file, class, function)

2. ‚úÖ **–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫**
   - –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª–µ–Ω—ã –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö

3. ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É–∑–ª–æ–≤ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
   - Docstrings —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

4. ‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
   - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –≤—ã–¥–µ–ª–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å–µ–∫—Ü–∏—é
   - –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

5. ‚úÖ **–î–≤–æ–π–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞**
   - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å: functional_modules
   - –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å: structure (–ø–æ–ª–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è —Ñ–∞–π–ª–æ–≤)

### RPG –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–£–∑–ª—ã –≥—Ä–∞—Ñ–∞:**
- `RPGNode.node_type` = 'project', 'directory', 'file', 'class', 'function', 'method'
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É–∑–ª–æ–≤: docstrings, decorators, line_numbers, base_classes

**–†—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞:**
- `dependencies` - –∏–º–ø–æ—Ä—Ç—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- `children` - –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –º–∞—Å—à—Ç–∞–±–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–µ–∫—Ç–æ–º

### –¢–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ò–º—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: **`py_accountant_rpg.yaml`**

(–ó–∞–º–µ–Ω—è–µ—Ç –¥–µ—Ñ–∏—Å—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
   ```bash
   # –ö–æ–º–º–∏—Ç–∏—Ç—å RPG —Ñ–∞–π–ª –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º
   python -m tools.rpg
   git add py_accountant_rpg.yaml
   git commit -m "update: project structure graph"
   ```

2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
   - RPG —Ñ–∞–π–ª –¥–∞—ë—Ç –ø–æ–ª–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –º–∞—Å—à—Ç–∞–± –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

3. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å RPG –¥–æ –∏ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
   - –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —Å—Ç–∞–ª–∏ —Å–ª–æ–∂–Ω–µ–µ

4. **CI/CD –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   ```yaml
   # .github/workflows/rpg-check.yml
   - name: Check project structure
     run: |
       python -m tools.rpg --output current_rpg.yaml
       # –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ç—Ä–∏–∫
   ```

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:**
- `ast` - –ø–∞—Ä—Å–∏–Ω–≥ Python –∫–æ–¥–∞
- `pathlib` - —Ä–∞–±–æ—Ç–∞ —Å –ø—É—Ç—è–º–∏
- `argparse` - CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `dataclasses` - —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- `collections.defaultdict` - –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–í–Ω–µ—à–Ω–∏–µ (—É–∂–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ):**
- `pyyaml` - YAML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `tomli` / `tomllib` - —á—Ç–µ–Ω–∏–µ pyproject.toml (Python 3.11+)

---

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-------------|----------|
| `analyzer.py` | 212 | AST –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ |
| `graph_builder.py` | 265 | –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ |
| `yaml_writer.py` | 226 | YAML —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è |
| `generate_rpg.py` | 186 | CLI –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è |
| `example_usage.py` | 68 | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| –î—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã | 25 | `__init__`, `__main__` |
| **–ò—Ç–æ–≥–æ –∫–æ–¥** | **982** | |
| `README.md` | 520+ | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| `QUICK_REFERENCE.md` | 323 | –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ |
| **–ò—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | **843+** | |
| **–í–°–ï–ì–û** | **1,825+** | |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

1. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞:**
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ GraphViz / Mermaid
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ HTML –¥–∏–∞–≥—Ä–∞–º–º—ã
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

2. **–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:**
   - Cyclomatic complexity
   - Coupling/cohesion –º–µ—Ç—Ä–∏–∫–∏
   - –í—ã—è–≤–ª–µ–Ω–∏–µ code smells

3. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π:**
   - Diff –º–µ–∂–¥—É RPG —Ñ–∞–π–ª–∞–º–∏
   - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - Metrics trending

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IDE:**
   - VS Code extension
   - PyCharm plugin
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≥—Ä–∞—Ñ—É

5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Clean Architecture

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ **–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ RPG –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞**

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- 982 —Å—Ç—Ä–æ–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
- 843+ —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ RPG
- CLI –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ (py_accountant)
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞ 2-3 —Å–µ–∫—É–Ω–¥—ã

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**
- ‚úÖ –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è comprehensive
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–µ–∫—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

**–ò–º—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `py_accountant_rpg.yaml`

---

**–°—Ç–∞—Ç—É—Å:** üéâ **–ó–ê–í–ï–†–®–ï–ù–û**

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è RPG –≥—Ä–∞—Ñ–∞ –ø—Ä–æ–µ–∫—Ç–∞ py_accountant.

