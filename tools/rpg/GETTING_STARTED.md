# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: RPG Generator –¥–ª—è py_accountant

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `tools/rpg/` —Å–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Repository Planning Graph (RPG) —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

## –û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RPG –≥—Ä–∞—Ñ–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
python -m tools.rpg

# –°–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª: py_accountant_rpg.yaml
```

### –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º

```bash
python -m tools.rpg --verbose
```

### –í –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª

```bash
python -m tools.rpg --output custom_name.yaml
```

### –†–µ–∂–∏–º—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```bash
# –ë–∞–∑–æ–≤—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
python -m tools.rpg
# –°–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª ~97 KB, ~28K —Ç–æ–∫–µ–Ω–æ–≤

# –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º - –¥–ª—è LLM —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
python -m tools.rpg --nodetail
# –°–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª ~57 KB, ~17K —Ç–æ–∫–µ–Ω–æ–≤ (—É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ ~40-50%)

# –ü–æ–ª–Ω—ã–π —Ä–µ–∂–∏–º - —Å docstrings (–¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
python -m tools.rpg --docstring
# –°–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª ~138 KB, ~40K —Ç–æ–∫–µ–Ω–æ–≤
```

## –ß—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ RPG —Ñ–∞–π–ª–µ

–§–∞–π–ª `py_accountant_rpg.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç:

- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞** (–Ω–∞–∑–≤–∞–Ω–∏–µ, –≤–µ—Ä—Å–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ)
- **–ú–µ—Ç—Ä–∏–∫–∏** (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤, –∫–ª–∞—Å—Å–æ–≤, —Ñ—É–Ω–∫—Ü–∏–π, —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
- **–ü–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É** (–∏–µ—Ä–∞—Ä—Ö–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π, —Ñ–∞–π–ª–æ–≤, –∫–ª–∞—Å—Å–æ–≤, —Ñ—É–Ω–∫—Ü–∏–π)
- **–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (–∏–º–ø–æ—Ä—Ç—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏)
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏** (–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)

## –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

```bash
# –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤/–∫–ª–∞—Å—Å–æ–≤
python -m tools.rpg
git add py_accountant_rpg.yaml
git commit -m "update: project structure graph"
```

### 2. –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è

```bash
# –¢–æ–ª—å–∫–æ domain —Å–ª–æ–π
python -m tools.rpg \
  --src-dir src/py_accountant/domain \
  --output domain_rpg.yaml

# –¢–æ–ª—å–∫–æ infrastructure
python -m tools.rpg \
  --src-dir src/py_accountant/infrastructure \
  --output infrastructure_rpg.yaml
```

### 3. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤

```bash
python -m tools.rpg \
  --exclude tests \
  --exclude examples \
  --exclude docs
```

## –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from pathlib import Path
from tools.rpg.analyzer import CodeAnalyzer
from tools.rpg.graph_builder import GraphBuilder
from tools.rpg.yaml_writer import YAMLWriter

# –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
analyzer = CodeAnalyzer(Path("."))
modules = analyzer.analyze_directory(Path("src"))

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞
builder = GraphBuilder(Path("."), "py_accountant")
root = builder.build_graph(modules)

# –ú–µ—Ç—Ä–∏–∫–∏
metrics = builder.calculate_metrics(root)
print(f"Total files: {metrics['total_files']}")
print(f"Total classes: {metrics['total_classes']}")

# –ó–∞–ø–∏—Å—å –≤ YAML
writer = YAMLWriter("py_accountant", "1.1.0")
writer.write_to_file(root, Path("output.yaml"))
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```
tools/rpg/
‚îú‚îÄ‚îÄ __init__.py              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ __main__.py              # Entry point –¥–ª—è python -m
‚îú‚îÄ‚îÄ analyzer.py              # –ê–Ω–∞–ª–∏–∑ Python –∫–æ–¥–∞ (AST)
‚îú‚îÄ‚îÄ graph_builder.py         # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞
‚îú‚îÄ‚îÄ yaml_writer.py           # –ó–∞–ø–∏—Å—å –≤ YAML
‚îú‚îÄ‚îÄ generate_rpg.py          # –ì–ª–∞–≤–Ω—ã–π CLI —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ example_usage.py         # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
‚îú‚îÄ‚îÄ README.md                # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (520+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ QUICK_REFERENCE.md       # –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ (323 —Å—Ç—Ä–æ–∫–∏)
‚îî‚îÄ‚îÄ IMPLEMENTATION_SUMMARY.md # –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç
```

## –¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ py_accountant

–ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ 28 –Ω–æ—è–±—Ä—è 2025:

- üìÅ **52 Python —Ñ–∞–π–ª–∞**
- üìù **5,926 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**
- üèõÔ∏è **112 –∫–ª–∞—Å—Å–æ–≤**
- ‚öôÔ∏è **46 —Ñ—É–Ω–∫—Ü–∏–π**
- üîß **217 –º–µ—Ç–æ–¥–æ–≤**
- üìä **–°—Ä–µ–¥–Ω–µ–µ: 113 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª**

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `tools/rpg/README.md`
- **–ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞**: `tools/rpg/QUICK_REFERENCE.md`
- **–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è RPG**: `docs/rpg_intro.txt`
- **–ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç**: `tools/rpg/IMPLEMENTATION_SUMMARY.md`

## –ü–æ–º–æ—â—å

```bash
python -m tools.rpg --help
```

---

**‚úÖ RPG Generator –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

–ò–º—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `py_accountant_rpg.yaml`

