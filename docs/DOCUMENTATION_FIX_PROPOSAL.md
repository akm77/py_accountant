# –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ py_accountant

**–î–∞—Ç–∞:** 24 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è RPG:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—é –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–ê–≤—Ç–æ—Ä:** GitHub Copilot

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–†–µ–∑—é–º–µ –ø—Ä–æ–±–ª–µ–º—ã](#—Ä–µ–∑—é–º–µ-–ø—Ä–æ–±–ª–µ–º—ã)
2. [–ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω](#–∞–Ω–∞–ª–∏–∑-–ø–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω)
3. [–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è](#–ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ-—Ä–µ—à–µ–Ω–∏—è)
4. [–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–ø–ª–∞–Ω-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
5. [–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞](#–º–µ—Ç—Ä–∏–∫–∏-—É—Å–ø–µ—Ö–∞)

---

## –†–µ–∑—é–º–µ –ø—Ä–æ–±–ª–µ–º—ã

–ê–Ω–∞–ª–∏–∑ –æ—Ç—á–µ—Ç–∞ –≤—ã—è–≤–∏–ª **10 –ø—Ä–æ–±–ª–µ–º** –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö:
- üî¥ **5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç API, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω–∞—á–µ
- üü° **3 —Å—Ä–µ–¥–Ω–∏—Ö** ‚Äî –Ω–µ–ø–æ–ª–Ω–∞—è –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- üü¢ **2 –º–∏–Ω–æ—Ä–Ω—ã—Ö** ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø—Ä–∏–º–µ—Ä—ã

**–í–ª–∏—è–Ω–∏–µ:** –í—Ä–µ–º—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å ~30 –º–∏–Ω—É—Ç –¥–æ ~4 —á–∞—Å–æ–≤ –∏–∑-–∑–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞.

**–ü–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω–∞:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–∞—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –Ω–∞ core-only –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (CORE-01) –∏ —É–¥–∞–ª–µ–Ω–∏–µ–º SDK-—Å–ª–æ—è.

---

## –ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–æ—à–µ–ª —á–µ—Ä–µ–∑ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é:**

1. **v0.x** ‚Äî –ù–∞–ª–∏—á–∏–µ SDK-—Å–ª–æ—è (`py_accountant.sdk.*`)
2. **v0.9.0** (CORE-01) ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ SDK, –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ core-only –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
3. **v1.0.0** ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ sync API, –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ async

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–º–µ—Å—å –∏–∑:
- –£—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ (SDK-—Å–ª–æ–π)
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏–º–µ–Ω –º–æ–¥—É–ª–µ–π (`account` ‚Üí `accounts`)
- –°—Ç–∞—Ä—ã—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö)

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞

- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (sphinx/mkdocs)
- ‚ùå –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è CI (–Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–∞–∫ —Ç–µ—Å—Ç—ã)
- ‚ùå –ù–µ—Ç single source of truth –¥–ª—è API (docstrings –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é)

---

## –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è

### üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è: "Documentation as Code"

**–ü—Ä–∏–Ω—Ü–∏–ø:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä—è–µ–º–æ–π, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–π –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å –∫–æ–¥–æ–º.

---

## 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Priority 1)

### 1.1 –°–æ–∑–¥–∞—Ç—å API Reference –¥–æ–∫—É–º–µ–Ω—Ç

**–°–æ–∑–¥–∞—Ç—å:** `docs/API_REFERENCE.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**

```markdown
# API Reference - Use Cases & DTOs

## –ò–º–ø–æ—Ä—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç–∞–º–∏
```python
from py_accountant.application.use_cases_async.currencies import (
    AsyncCreateCurrency,          # –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã
    AsyncGetCurrency,              # –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã –ø–æ –∫–æ–¥—É
    AsyncListCurrencies,           # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∞–ª—é—Ç
    AsyncSetBaseCurrency,          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã
)
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞–º–∏
```python
from py_accountant.application.use_cases_async.accounts import (
    AsyncCreateAccount,            # –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞
    AsyncGetAccount,               # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—á–µ—Ç–∞ –ø–æ full_name
    AsyncListAccounts,             # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤
)
```

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
```python
from py_accountant.application.use_cases_async.ledger import (
    AsyncPostTransaction,          # –ü—Ä–æ–≤–æ–¥–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    AsyncGetAccountBalance,        # –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —Å—á–µ—Ç–∞
    AsyncListTransactions,         # –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
)
```

### FX Audit (–∫—É—Ä—Å—ã –≤–∞–ª—é—Ç)
```python
from py_accountant.application.use_cases_async.fx_audit import (
    AsyncAddExchangeRateEvent,     # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∫—É—Ä—Å–∞
    AsyncListExchangeRateEvents,   # –ò—Å—Ç–æ—Ä–∏—è –∫—É—Ä—Å–æ–≤
)
```

### Trading Balance
```python
from py_accountant.application.use_cases_async.trading_balance import (
    AsyncGetTradingBalanceRaw,     # –°—ã—Ä–æ–π —Ç–æ—Ä–≥–æ–≤—ã–π –±–∞–ª–∞–Ω—Å
    AsyncGetTradingBalanceConverted,  # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ –±–∞–∑–æ–≤—É—é –≤–∞–ª—é—Ç—É
)
```

---

## Use Cases - –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã

### AsyncCreateAccount

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
```python
use_case = AsyncCreateAccount(uow: AsyncUnitOfWork)
# ‚ö†Ô∏è –ù–ï –ø—Ä–∏–Ω–∏–º–∞–µ—Ç clock!
```

**–í—ã–∑–æ–≤:**
```python
async def __call__(
    self,
    full_name: str,          # –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä "Asset:Bank:USD")
    currency_code: str       # –ö–æ–¥ –≤–∞–ª—é—Ç—ã (–±—É–¥–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω –≤ upper)
) -> AccountDTO
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `AccountDTO` —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º `id`

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**
- `ValidationError` ‚Äî –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `full_name` –∏–ª–∏ `currency_code`
- `ValueError` ‚Äî –≤–∞–ª—é—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ò–õ–ò —Å—á–µ—Ç —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ –µ—Å—Ç—å

**–ü—Ä–∏–º–µ—Ä:**
```python
from py_accountant.application.use_cases_async.accounts import AsyncCreateAccount

async with uow_factory() as uow:
    use_case = AsyncCreateAccount(uow)
    account = await use_case(
        full_name="Asset:Bank:USD",
        currency_code="USD"
    )
    print(f"–°–æ–∑–¥–∞–Ω —Å—á–µ—Ç {account.id}: {account.full_name}")
```

---

### AsyncPostTransaction

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
```python
use_case = AsyncPostTransaction(
    uow: AsyncUnitOfWork,
    clock: Clock              # ‚úÖ Clock –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!
)
```

**–í—ã–∑–æ–≤:**
```python
async def __call__(
    self,
    lines: list[EntryLineDTO],          # –ú–∏–Ω–∏–º—É–º 2 —Å—Ç—Ä–æ–∫–∏
    memo: str | None = None,            # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
    meta: dict[str, Any] | None = None  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
) -> TransactionDTO
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `TransactionDTO` —Å `id` –≤ —Ñ–æ—Ä–º–∞—Ç–µ `"tx:<uuid>"`

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**
- `ValidationError` ‚Äî –ø—É—Å—Ç–æ–π `lines`, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `side`, –Ω–µ–≤–∞–ª–∏–¥–Ω–∞—è —Å—É–º–º–∞
- `DomainError` ‚Äî –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è (–¥–µ–±–µ—Ç ‚â† –∫—Ä–µ–¥–∏—Ç)
- `ValueError` ‚Äî —Å—á–µ—Ç –∏–ª–∏ –≤–∞–ª—é—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–ü—Ä–∏–º–µ—Ä:**
```python
from decimal import Decimal
from py_accountant.application.dto.models import EntryLineDTO
from py_accountant.application.use_cases_async.ledger import AsyncPostTransaction

lines = [
    EntryLineDTO(
        side="DEBIT",
        account_full_name="Asset:Bank:USD",
        amount=Decimal("100.00"),
        currency_code="USD"
    ),
    EntryLineDTO(
        side="CREDIT",
        account_full_name="Revenue:Sales",
        amount=Decimal("100.00"),
        currency_code="USD"
    ),
]

async with uow_factory() as uow:
    use_case = AsyncPostTransaction(uow, clock)
    tx = await use_case(
        lines=lines,
        memo="–ü—Ä–æ–¥–∞–∂–∞ —Ç–æ–≤–∞—Ä–∞",
        meta={"order_id": "12345"}
    )
    await uow.commit()
    print(f"–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è {tx.id} –ø—Ä–æ–≤–µ–¥–µ–Ω–∞")
```

---

### AsyncGetAccountBalance

**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**
```python
use_case = AsyncGetAccountBalance(
    uow: AsyncUnitOfWork,
    clock: Clock              # ‚úÖ Clock –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!
)
```

**–í—ã–∑–æ–≤:**
```python
async def __call__(
    self,
    account_full_name: str,
    as_of: datetime | None = None  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
) -> Decimal
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Decimal` –Ω–∞–ø—Ä—è–º—É—é (–ù–ï DTO!)

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —ç—Ç–æ `Decimal`, –∞ –Ω–µ –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º `.balance`

**–ü—Ä–∏–º–µ—Ä:**
```python
from py_accountant.application.use_cases_async.ledger import AsyncGetAccountBalance

async with uow_factory() as uow:
    use_case = AsyncGetAccountBalance(uow, clock)
    balance = await use_case(account_full_name="Asset:Bank:USD")
    
    # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - balance —ç—Ç–æ —É–∂–µ Decimal
    print(f"–ë–∞–ª–∞–Ω—Å: {balance}")
    
    # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
    # print(f"–ë–∞–ª–∞–Ω—Å: {balance.balance}")  # AttributeError!
```

---

## DTOs

### EntryLineDTO

```python
@dataclass(slots=True)
class EntryLineDTO:
    """–°—Ç—Ä–æ–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–¥–µ–±–µ—Ç –∏–ª–∏ –∫—Ä–µ–¥–∏—Ç)"""
    
    side: str                          # 'DEBIT' –∏–ª–∏ 'CREDIT'
    account_full_name: str             # –ü–æ–ª–Ω–æ–µ –∏–º—è —Å—á–µ—Ç–∞
    amount: Decimal                    # –°—É–º–º–∞ (–í–°–ï–ì–î–ê –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è!)
    currency_code: str                 # –ö–æ–¥ –≤–∞–ª—é—Ç—ã
    exchange_rate: Decimal | None = None  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ)
    meta: dict[str, Any] = field(default_factory=dict)
```

**‚ö†Ô∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å–æ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π:**
- ‚ùå –ù–µ—Ç –ø–æ–ª–µ–π `debit` –∏ `credit`
- ‚úÖ –ï—Å—Ç—å `side` (—É–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–æ—Ä–æ–Ω—É) + `amount` (–≤—Å–µ–≥–¥–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞)
- ‚ùå `account` ‚Üí `account_full_name`
- ‚ùå `currency` ‚Üí `currency_code`

**–ü—Ä–∏–º–µ—Ä—ã:**

```python
from decimal import Decimal
from py_accountant.application.dto.models import EntryLineDTO

# –î–µ–±–µ—Ç 100 USD
line_debit = EntryLineDTO(
    side="DEBIT",
    account_full_name="Asset:Bank:USD",
    amount=Decimal("100.00"),
    currency_code="USD"
)

# –ö—Ä–µ–¥–∏—Ç 100 USD
line_credit = EntryLineDTO(
    side="CREDIT",
    account_full_name="Revenue:Sales",
    amount=Decimal("100.00"),
    currency_code="USD"
)
```

---

### AccountDTO

```python
@dataclass(slots=True)
class AccountDTO:
    """DTO —Å—á–µ—Ç–∞"""
    
    id: str                    # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (uuid)
    name: str                  # –ò–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞
    full_name: str             # –ü–æ–ª–Ω–æ–µ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –∏–º—è
    currency_code: str         # –ö–æ–¥ –≤–∞–ª—é—Ç—ã —Å—á–µ—Ç–∞
    parent_id: str | None = None  # ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞
```

---

### TransactionDTO

```python
@dataclass(slots=True)
class TransactionDTO:
    """DTO —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"""
    
    id: str                          # –§–æ—Ä–º–∞—Ç "tx:<uuid>"
    occurred_at: datetime            # –í—Ä–µ–º—è –ø—Ä–æ–≤–æ–¥–∫–∏ (UTC)
    lines: list[EntryLineDTO]        # –°—Ç—Ä–æ–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    memo: str | None = None          # –û–ø–∏—Å–∞–Ω–∏–µ
    meta: dict[str, Any] = field(default_factory=dict)  # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```

---

## –ö–∞–∫–∏–µ Use Cases —Ç—Ä–µ–±—É—é—Ç Clock?

### ‚úÖ –¢—Ä–µ–±—É—é—Ç Clock:
- `AsyncPostTransaction(uow, clock)` ‚Äî –¥–ª—è timestamp —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `AsyncGetAccountBalance(uow, clock)` ‚Äî –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏

### ‚ùå –ù–ï —Ç—Ä–µ–±—É—é—Ç Clock:
- `AsyncCreateAccount(uow)` ‚Äî —Ç–æ–ª—å–∫–æ CRUD
- `AsyncGetAccount(uow)` ‚Äî —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
- `AsyncListAccounts(uow)` ‚Äî —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
- `AsyncCreateCurrency(uow)` ‚Äî —Ç–æ–ª—å–∫–æ CRUD

**–ü—Ä–∞–≤–∏–ª–æ:** Clock –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –≤–∞–∂–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è.

---

## –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```
Exception
‚îú‚îÄ‚îÄ DomainError                    # –ë–∞–∑–æ–≤–æ–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ ValidationError            # –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Ñ–æ—Ä–º–∞—Ç, constraints)
‚îÇ   ‚îî‚îÄ‚îÄ (–¥—Ä—É–≥–∏–µ –¥–æ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏)
‚îî‚îÄ‚îÄ ValueError                     # –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ Python)
```

### ValidationError

**–ö–æ–≥–¥–∞ –±—Ä–æ—Å–∞–µ—Ç—Å—è:**
- –ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ `lines` –≤ `AsyncPostTransaction`
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `side` –≤ `EntryLineDTO` (–Ω–µ 'DEBIT' –∏ –Ω–µ 'CREDIT')
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π `full_name` –≤ `AsyncCreateAccount` (–ø—É—Å—Ç–æ–π, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏)
- –ù–µ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è `amount` –≤ `EntryLineDTO`
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ `currency_code` (–Ω–µ 3-10 —Å–∏–º–≤–æ–ª–æ–≤)

### DomainError

**–ö–æ–≥–¥–∞ –±—Ä–æ—Å–∞–µ—Ç—Å—è:**
- –ù–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ –±–∞–∑–æ–≤—É—é –≤–∞–ª—é—Ç—É
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–æ–ª—å—à–µ –æ–¥–Ω–æ–π –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã)

### ValueError (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Python)

**–ö–æ–≥–¥–∞ –±—Ä–æ—Å–∞–µ—Ç—Å—è:**
- –í–∞–ª—é—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`AsyncCreateAccount`)
- –°—á–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`AsyncPostTransaction`)
- –°—á–µ—Ç —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`AsyncCreateAccount`)

**–ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏:**

```python
from py_accountant.domain.errors import ValidationError, DomainError

try:
    tx = await AsyncPostTransaction(uow, clock)(lines=lines)
    await uow.commit()
except ValidationError as e:
    # –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö (400 Bad Request)
    print(f"–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: {e}")
except DomainError as e:
    # –ù–∞—Ä—É—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª (422 Unprocessable Entity)
    print(f"–ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ –Ω–∞—Ä—É—à–µ–Ω–æ: {e}")
except ValueError as e:
    # –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω (404 Not Found)
    print(f"–†–µ—Å—É—Ä—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {e}")
```

---
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¢–û–õ–¨–ö–û –∞–∫—Ç—É–∞–ª—å–Ω—ã–π API
- ‚úÖ –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ, –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ "–∫–∞–∫–∏–µ use cases —Ç—Ä–µ–±—É—é—Ç clock"

---

### 1.2 –ò—Å–ø—Ä–∞–≤–∏—Ç—å INTEGRATION_GUIDE.md

**–§–∞–π–ª:** `docs/INTEGRATION_GUIDE.md`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–°–µ–∫—Ü–∏—è "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"** ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ

```diff
- from py_accountant.application.use_cases_async.account import AsyncCreateAccount
+ from py_accountant.application.use_cases_async.accounts import AsyncCreateAccount
```

2. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

```python
# –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Å—á–µ—Ç–æ–≤ –∏ –ø—Ä–æ–≤–æ–¥–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

from decimal import Decimal
from py_accountant.application.use_cases_async.currencies import AsyncCreateCurrency
from py_accountant.application.use_cases_async.accounts import AsyncCreateAccount
from py_accountant.application.use_cases_async.ledger import (
    AsyncPostTransaction,
    AsyncGetAccountBalance,
)
from py_accountant.application.dto.models import EntryLineDTO
from py_accountant.infrastructure.persistence.sqlalchemy.uow import (
    AsyncSqlAlchemyUnitOfWork,
)
from py_accountant.infrastructure.clock import SystemClock

# 1. –°–æ–∑–¥–∞—Ç—å –≤–∞–ª—é—Ç—É
async with uow_factory() as uow:
    currency = await AsyncCreateCurrency(uow)(code="USD", is_base=True)
    await uow.commit()

# 2. –°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç–∞
async with uow_factory() as uow:
    asset = await AsyncCreateAccount(uow)(
        full_name="Asset:Bank:USD",
        currency_code="USD"
    )
    revenue = await AsyncCreateAccount(uow)(
        full_name="Revenue:Sales",
        currency_code="USD"
    )
    await uow.commit()

# 3. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
lines = [
    EntryLineDTO(
        side="DEBIT",
        account_full_name="Asset:Bank:USD",
        amount=Decimal("100.00"),
        currency_code="USD"
    ),
    EntryLineDTO(
        side="CREDIT",
        account_full_name="Revenue:Sales",
        amount=Decimal("100.00"),
        currency_code="USD"
    ),
]

clock = SystemClock()
async with uow_factory() as uow:
    tx = await AsyncPostTransaction(uow, clock)(
        lines=lines,
        memo="–ü—Ä–æ–¥–∞–∂–∞ —Ç–æ–≤–∞—Ä–∞"
    )
    await uow.commit()

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å
async with uow_factory() as uow:
    balance = await AsyncGetAccountBalance(uow, clock)(
        account_full_name="Asset:Bank:USD"
    )
    print(f"–ë–∞–ª–∞–Ω—Å: {balance}")  # Decimal("100.00")
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–π end-to-end –ø—Ä–∏–º–µ—Ä
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
- ‚úÖ –ú–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
- ‚úÖ –ü–æ–∫—Ä—ã–≤–∞–µ—Ç —Ç–∏–ø–∏—á–Ω—ã–π use case

---

### 1.3 –ò—Å–ø—Ä–∞–≤–∏—Ç—å README.md

**–§–∞–π–ª:** `README.md`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ü–∏—é "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SDK"** (–æ–Ω–∞ —É–∂–µ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ —Å–±–∏–≤–∞–µ—Ç —Å —Ç–æ–ª–∫—É)

2. **–ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ "Quick Start"**

```markdown
## Quick Start

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
poetry add git+https://github.com/akm77/py_accountant.git@v1.0.0
```

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```python
from decimal import Decimal
from py_accountant.application.use_cases_async.accounts import AsyncCreateAccount
from py_accountant.application.use_cases_async.ledger import AsyncPostTransaction
from py_accountant.application.dto.models import EntryLineDTO
from py_accountant.infrastructure.persistence.sqlalchemy.uow import (
    AsyncSqlAlchemyUnitOfWork,
)
from py_accountant.infrastructure.clock import SystemClock

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
def make_uow_factory(database_url: str):
    async def factory():
        return AsyncSqlAlchemyUnitOfWork(database_url)
    return factory

uow_factory = make_uow_factory("postgresql+asyncpg://...")
clock = SystemClock()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async with uow_factory() as uow:
    # –°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç
    account = await AsyncCreateAccount(uow)(
        full_name="Asset:Bank:USD",
        currency_code="USD"
    )
    await uow.commit()

# –î–µ—Ç–∞–ª–∏ —Å–º. –≤ docs/INTEGRATION_GUIDE.md –∏ docs/API_REFERENCE.md
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä
- ‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- ‚úÖ –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –¥–µ—Ç–∞–ª—è–º–∏

---

## 2. –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (Priority 2)

### 2.1 –°–æ–∑–¥–∞—Ç—å ERROR_HANDLING.md

**–°–æ–∑–¥–∞—Ç—å:** `docs/ERROR_HANDLING.md`

```markdown
# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ py_accountant

## –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```
py_accountant.domain.errors.DomainError
‚îú‚îÄ‚îÄ ValidationError          # –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ [–¥—Ä—É–≥–∏–µ –¥–æ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏]

ValueError (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Python)  # –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
```

## –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –ø–æ use case

### AsyncCreateAccount

| –ò—Å–∫–ª—é—á–µ–Ω–∏–µ | –ü—Ä–∏—á–∏–Ω–∞ | HTTP –∫–æ–¥ |
|-----------|---------|----------|
| `ValidationError` | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π `full_name` –∏–ª–∏ `currency_code` | 400 |
| `ValueError` | –í–∞–ª—é—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | 404 |
| `ValueError` | –°—á–µ—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | 409 |

### AsyncPostTransaction

| –ò—Å–∫–ª—é—á–µ–Ω–∏–µ | –ü—Ä–∏—á–∏–Ω–∞ | HTTP –∫–æ–¥ |
|-----------|---------|----------|
| `ValidationError` | –ü—É—Å—Ç–æ–π `lines` | 400 |
| `ValidationError` | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `side` | 400 |
| `ValidationError` | –ù–µ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è `amount` | 400 |
| `DomainError` | –ù–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è | 422 |
| `ValueError` | –°—á–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | 404 |
| `ValueError` | –í–∞–ª—é—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | 404 |

## –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –í API endpoint

```python
from fastapi import HTTPException
from py_accountant.domain.errors import ValidationError, DomainError

try:
    tx = await AsyncPostTransaction(uow, clock)(lines=lines)
    await uow.commit()
    return {"transaction_id": tx.id}
except ValidationError as e:
    raise HTTPException(status_code=400, detail=str(e))
except DomainError as e:
    raise HTTPException(status_code=422, detail=str(e))
except ValueError as e:
    raise HTTPException(status_code=404, detail=str(e))
```

### –í CLI

```python
from py_accountant.domain.errors import ValidationError, DomainError

try:
    tx = await AsyncPostTransaction(uow, clock)(lines=lines)
    await uow.commit()
except ValidationError as e:
    print(f"‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö: {e}")
    sys.exit(1)
except DomainError as e:
    print(f"‚ùå –ù–∞—Ä—É—à–µ–Ω–æ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–æ: {e}")
    sys.exit(2)
except ValueError as e:
    print(f"‚ùå –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω: {e}")
    sys.exit(3)
```
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –ü–æ–Ω—è—Ç–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –Ω–∞ HTTP –∫–æ–¥—ã
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

---

### 2.2 –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–°–æ–∑–¥–∞—Ç—å:** `tests/docs/test_documentation_examples.py`

```python
"""–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç, —á—Ç–æ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç."""

import pytest
from decimal import Decimal
from py_accountant.application.use_cases_async.accounts import AsyncCreateAccount
from py_accountant.application.use_cases_async.currencies import AsyncCreateCurrency
from py_accountant.application.use_cases_async.ledger import (
    AsyncPostTransaction,
    AsyncGetAccountBalance,
)
from py_accountant.application.dto.models import EntryLineDTO


@pytest.mark.asyncio
async def test_integration_guide_example(async_uow_factory, clock):
    """–ü—Ä–∏–º–µ—Ä –∏–∑ INTEGRATION_GUIDE.md –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å."""
    
    # 1. –°–æ–∑–¥–∞—Ç—å –≤–∞–ª—é—Ç—É
    async with async_uow_factory() as uow:
        currency = await AsyncCreateCurrency(uow)(code="USD", is_base=True)
        await uow.commit()
    
    # 2. –°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç–∞
    async with async_uow_factory() as uow:
        asset = await AsyncCreateAccount(uow)(
            full_name="Asset:Bank:USD",
            currency_code="USD"
        )
        revenue = await AsyncCreateAccount(uow)(
            full_name="Revenue:Sales",
            currency_code="USD"
        )
        await uow.commit()
    
    # 3. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
    lines = [
        EntryLineDTO(
            side="DEBIT",
            account_full_name="Asset:Bank:USD",
            amount=Decimal("100.00"),
            currency_code="USD"
        ),
        EntryLineDTO(
            side="CREDIT",
            account_full_name="Revenue:Sales",
            amount=Decimal("100.00"),
            currency_code="USD"
        ),
    ]
    
    async with async_uow_factory() as uow:
        tx = await AsyncPostTransaction(uow, clock)(
            lines=lines,
            memo="–ü—Ä–æ–¥–∞–∂–∞ —Ç–æ–≤–∞—Ä–∞"
        )
        await uow.commit()
    
    # 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å
    async with async_uow_factory() as uow:
        balance = await AsyncGetAccountBalance(uow, clock)(
            account_full_name="Asset:Bank:USD"
        )
    
    assert balance == Decimal("100.00")
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ CI —Å–ª–æ–º–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–µ—Ç
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã = –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è = —Ç–µ—Å—Ç—ã (DRY)

---

## 3. –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (Priority 3)

### 3.1 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å docstrings –∫–∞–∫ single source of truth

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** mkdocs + mkdocstrings

**–®–∞–≥–∏:**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
poetry add --group dev mkdocs mkdocstrings-python mkdocs-material
```

2. –°–æ–∑–¥–∞—Ç—å `mkdocs.yml`:

```yaml
site_name: py_accountant
theme:
  name: material
  features:
    - navigation.sections
    - toc.integrate

plugins:
  - search
  - mkdocstrings:
      handlers:
        python:
          options:
            show_source: false
            heading_level: 3

nav:
  - –ì–ª–∞–≤–Ω–∞—è: index.md
  - Integration Guide: INTEGRATION_GUIDE.md
  - API Reference:
      - Use Cases: api/use_cases.md
      - DTOs: api/dtos.md
      - Ports: api/ports.md
  - Error Handling: ERROR_HANDLING.md
  - Architecture: ARCHITECTURE_OVERVIEW.md
```

3. –°–æ–∑–¥–∞—Ç—å `docs/api/use_cases.md`:

```markdown
# Use Cases API

## Accounts

::: py_accountant.application.use_cases_async.accounts.AsyncCreateAccount

::: py_accountant.application.use_cases_async.accounts.AsyncGetAccount

::: py_accountant.application.use_cases_async.accounts.AsyncListAccounts

## Ledger

::: py_accountant.application.use_cases_async.ledger.AsyncPostTransaction

::: py_accountant.application.use_cases_async.ledger.AsyncGetAccountBalance

## Currencies

::: py_accountant.application.use_cases_async.currencies.AsyncCreateCurrency

::: py_accountant.application.use_cases_async.currencies.AsyncSetBaseCurrency
```

4. –î–æ–±–∞–≤–∏—Ç—å –≤ CI:

```yaml
# .github/workflows/docs.yml
name: Deploy Docs

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: '3.13'
      - run: pip install mkdocs mkdocstrings-python mkdocs-material
      - run: mkdocs gh-deploy --force
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ Docstrings –≤ –∫–æ–¥–µ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI (Material theme)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

### 3.2 –°–æ–∑–¥–∞—Ç—å MIGRATION_GUIDE.md

**–°–æ–∑–¥–∞—Ç—å:** `docs/MIGRATION_GUIDE.md`

```markdown
# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å SDK-–≤–µ—Ä—Å–∏–∏ (v0.x) –Ω–∞ core-only (v1.0+)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö

| –°—Ç–∞—Ä—ã–π –∏–º–ø–æ—Ä—Ç (v0.x) | –ù–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç (v1.0+) |
|---------------------|---------------------|
| `from py_accountant.sdk.ledger import PostTransaction` | `from py_accountant.application.use_cases_async.ledger import AsyncPostTransaction` |
| `from py_accountant.sdk.accounts import CreateAccount` | `from py_accountant.application.use_cases_async.accounts import AsyncCreateAccount` |
| `from py_accountant.application.use_cases_async.account import ...` | `from py_accountant.application.use_cases_async.accounts import ...` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ!) |

### –ò–∑–º–µ–Ω–µ–Ω–∏—è API

#### 1. AsyncCreateAccount

**–ë—ã–ª–æ:**
```python
await AsyncCreateAccount(uow, clock)(
    full_name="Asset:Bank:USD",
    account_type=AccountType.ASSET,  # ‚ùå –£–¥–∞–ª–µ–Ω–æ
    currency=Currency("USD"),         # ‚ùå –£–¥–∞–ª–µ–Ω–æ
    description="..."                 # ‚ùå –£–¥–∞–ª–µ–Ω–æ
)
```

**–°—Ç–∞–ª–æ:**
```python
await AsyncCreateAccount(uow)(  # ‚ö†Ô∏è clock —É–¥–∞–ª–µ–Ω!
    full_name="Asset:Bank:USD",
    currency_code="USD"  # ‚úÖ –ü—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞
)
```

#### 2. EntryLineDTO

**–ë—ã–ª–æ:**
```python
EntryLineDTO(
    account="Asset:Bank:USD",  # ‚ùå
    debit="100.00",            # ‚ùå
    credit="0",                # ‚ùå
    currency="USD"             # ‚ùå
)
```

**–°—Ç–∞–ª–æ:**
```python
EntryLineDTO(
    side="DEBIT",                    # ‚úÖ
    account_full_name="Asset:Bank:USD",  # ‚úÖ
    amount=Decimal("100.00"),        # ‚úÖ
    currency_code="USD"              # ‚úÖ
)
```

#### 3. AsyncGetAccountBalance - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–ë—ã–ª–æ:**
```python
balance_dto = await AsyncGetAccountBalance(uow, clock)(...)
print(balance_dto.balance)  # ‚ùå –ë—ã–ª –æ–±—ä–µ–∫—Ç
```

**–°—Ç–∞–ª–æ:**
```python
balance = await AsyncGetAccountBalance(uow, clock)(...)
print(balance)  # ‚úÖ Decimal –Ω–∞–ø—Ä—è–º—É—é
```

### –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã (`account` ‚Üí `accounts`)
- [ ] –£–¥–∞–ª–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `clock` –∏–∑ `AsyncCreateAccount`
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å `debit`/`credit` –Ω–∞ `side` + `amount` –≤ `EntryLineDTO`
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ `AsyncGetAccountBalance` (—Ç–µ–ø–µ—Ä—å `Decimal`)
- [ ] –£–±—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `account_type` –∏ `description` –∏–∑ `AsyncCreateAccount`
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å `Currency(...)` –æ–±—ä–µ–∫—Ç—ã –Ω–∞ `currency_code` —Å—Ç—Ä–æ–∫–∏
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤:

```bash
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã
find . -name "*.py" -exec sed -i '' 's/from py_accountant.sdk./from py_accountant.application.use_cases_async./g' {} \;
find . -name "*.py" -exec sed -i '' 's/.use_cases_async.account import/.use_cases_async.accounts import/g' {} \;
```
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è "–±—ã–ª–æ-—Å—Ç–∞–ª–æ"
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## 4. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 4.1 Type stubs –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ IDE

**–ü—Ä–æ–±–ª–µ–º–∞:** IDE –Ω–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø—ã –∏–∑ docstrings

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å `.pyi` stub —Ñ–∞–π–ª—ã

**–ü—Ä–∏–º–µ—Ä:** `src/py_accountant/application/use_cases_async/accounts.pyi`

```python
from py_accountant.application.dto.models import AccountDTO
from py_accountant.application.ports import AsyncUnitOfWork

class AsyncCreateAccount:
    uow: AsyncUnitOfWork
    
    def __init__(self, uow: AsyncUnitOfWork) -> None: ...
    
    async def __call__(
        self,
        full_name: str,
        currency_code: str
    ) -> AccountDTO: ...
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –ò–¥–µ–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IDE
- ‚úÖ Autocomplete —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%
- ‚úÖ –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ –≤–∏–¥–Ω—ã –¥–æ –∑–∞–ø—É—Å–∫–∞

---

### 4.2 –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

**–ò–¥–µ—è:** –î–æ–±–∞–≤–∏—Ç—å Jupyter notebooks —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

**–°–æ–∑–¥–∞—Ç—å:** `examples/notebooks/`

```
examples/notebooks/
‚îú‚îÄ‚îÄ 01_getting_started.ipynb
‚îú‚îÄ‚îÄ 02_transactions.ipynb
‚îú‚îÄ‚îÄ 03_multicurrency.ipynb
‚îî‚îÄ‚îÄ 04_reporting.ipynb
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –®–∞–≥-–∑–∞-—à–∞–≥–æ–º –æ–±—É—á–µ–Ω–∏–µ

---

## 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ RPG-–≥—Ä–∞—Ñ–∞

### 5.1 –î–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–§–∞–π–ª:** `rpg_py_accountant.yaml`

**–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ–∫—Ü–∏—é `nodes.modules`:**

```yaml
- name: "documentation"
  path: "docs/"
  description: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, API reference, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫."
  sub_modules:
    - name: "API_REFERENCE.md"
      description: "–î–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤—Å–µ–º use cases —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏."
    - name: "INTEGRATION_GUIDE.md"
      description: "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ py_accountant –≤ –ø—Ä–æ–µ–∫—Ç—ã: setup, –ø—Ä–∏–º–µ—Ä—ã, dual-URL."
    - name: "ERROR_HANDLING.md"
      description: "–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫, —Ç–∞–±–ª–∏—Ü–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø–æ use cases, –ø—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏."
    - name: "MIGRATION_GUIDE.md"
      description: "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å SDK-–≤–µ—Ä—Å–∏–∏ –Ω–∞ core-only –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É."
```

---

### 5.2 –û–±–Ω–æ–≤–∏—Ç—å changelog

**–î–æ–±–∞–≤–∏—Ç—å –≤ `rpg.metadata.changelog`:**

```yaml
- version: "1.1.0"
  date: "2025-11-25"
  changes:
    - "DOC-01: –°–æ–∑–¥–∞–Ω API_REFERENCE.md —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏"
    - "DOC-02: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –≤ INTEGRATION_GUIDE.md"
    - "DOC-03: –û–±–Ω–æ–≤–ª–µ–Ω README.md —Å —Ä–∞–±–æ—Ç–∞—é—â–∏–º Quick Start"
    - "DOC-04: –î–æ–±–∞–≤–ª–µ–Ω ERROR_HANDLING.md"
    - "DOC-05: –ü—Ä–∏–º–µ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏"
    - "DOC-06: –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (mkdocs)"
```

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)

**–¶–µ–ª—å:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, —á—Ç–æ–±—ã –Ω–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä—ã –Ω–µ —Ç—Ä–∞—Ç–∏–ª–∏ 4 —á–∞—Å–∞ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –∫–æ–¥–∞

**–ó–∞–¥–∞—á–∏:**
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å `docs/API_REFERENCE.md` (4 —á–∞—Å–∞)
   - –í—Å–µ use cases —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏
   - –¢–∞–±–ª–∏—Ü–∞ "–∫–∞–∫–∏–µ use cases —Ç—Ä–µ–±—É—é—Ç clock"
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å–µ—Ö DTOs
   
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `docs/INTEGRATION_GUIDE.md` (2 —á–∞—Å–∞)
   - –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π end-to-end –ø—Ä–∏–º–µ—Ä
   
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `README.md` (1 —á–∞—Å)
   - –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø—Ä–∏–º–µ—Ä—ã SDK
   - –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π Quick Start
   
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å `docs/ERROR_HANDLING.md` (2 —á–∞—Å–∞)
   - –¢–∞–±–ª–∏—Ü–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø–æ use cases
   - –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ù–æ–≤—ã–π –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –∑–∞ 30 –º–∏–Ω—É—Ç –±–µ–∑ –∏–∑—É—á–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

---

### –§–∞–∑–∞ 2: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (2-3 –¥–Ω—è)

**–¶–µ–ª—å:** –°–¥–µ–ª–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å–∞–º–æ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–π—Å—è

**–ó–∞–¥–∞—á–∏:**
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å `tests/docs/test_documentation_examples.py` (4 —á–∞—Å–∞)
   - –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - CI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏ –∫–∞–∂–¥–æ–º PR
   
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å mkdocs (4 —á–∞—Å–∞)
   - –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ docstrings
   - –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages
   - –ö—Ä–∞—Å–∏–≤—ã–π UI

3. ‚úÖ –°–æ–∑–¥–∞—Ç—å `docs/MIGRATION_GUIDE.md` (2 —á–∞—Å–∞)
   - –¢–∞–±–ª–∏—Ü–∞ "–±—ã–ª–æ-—Å—Ç–∞–ª–æ"
   - –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ CI –ø–∞–¥–∞–µ—Ç

---

### –§–∞–∑–∞ 3: –£–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–¶–µ–ª—å:** –°–¥–µ–ª–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é best-in-class

**–ó–∞–¥–∞—á–∏:**
1. ‚≠ï Type stubs (6 —á–∞—Å–æ–≤)
2. ‚≠ï Jupyter notebooks (8 —á–∞—Å–æ–≤)
3. ‚≠ï –í–∏–¥–µ–æ-—Ç—É—Ç–æ—Ä–∏–∞–ª—ã (12 —á–∞—Å–æ–≤)

**–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** py_accountant —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —ç—Ç–∞–ª–æ–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –¶–µ–ª—å |
|---------|-----|-------|------|
| –í—Ä–µ–º—è –ø–µ—Ä–≤–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | ~4 —á–∞—Å–∞ | <30 –º–∏–Ω—É—Ç | 8x —É–ª—É—á—à–µ–Ω–∏–µ |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ Issues | ‚Äî | –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å | –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 50% |
| Coverage –ø—Ä–∏–º–µ—Ä–æ–≤ —Ç–µ—Å—Ç–∞–º–∏ | 0% | 100% | CI –∑–∞—â–∏—â–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é |
| –í—Ä–µ–º—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | ~2 —á–∞—Å–∞ | ~5 –º–∏–Ω—É—Ç | –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è |

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- ‚úÖ –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç without modification
- ‚úÖ –ù–æ–≤—ã–π –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –±–µ–∑ –∏–∑—É—á–µ–Ω–∏—è source code
- ‚úÖ IDE –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
- ‚úÖ CI –ª–æ–º–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç

---

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–Ω–æ–≤–∞ —É—Å—Ç–∞—Ä–µ–µ—Ç

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è  
**–í–ª–∏—è–Ω–∏–µ:** –í—ã—Å–æ–∫–æ–µ

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
1. ‚úÖ –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤ (CI –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ API)
2. ‚úÖ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ docstrings (single source of truth)
3. ‚úÖ PR checklist: "–û–±–Ω–æ–≤–∏–ª –ª–∏ —Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é?"

### –†–∏—Å–∫ 2: mkdocs —É—Å–ª–æ–∂–Ω–∏—Ç workflow

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è  
**–í–ª–∏—è–Ω–∏–µ:** –ù–∏–∑–∫–æ–µ

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
1. ‚úÖ Markdown —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è —á–∏—Ç–∞–µ–º—ã–º–∏ –±–µ–∑ mkdocs
2. ‚úÖ mkdocs ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
3. ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

### –†–∏—Å–∫ 3: –ú–Ω–æ–≥–æ —Ä–∞–±–æ—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è  
**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
1. ‚úÖ –§–∞–∑–∞ 1 —Ä–µ—à–∞–µ—Ç 80% –ø—Ä–æ–±–ª–µ–º –∑–∞ 1-2 –¥–Ω—è
2. ‚úÖ –§–∞–∑–∞ 2-3 –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –≤ –±—É–¥—É—â–µ–º

---

## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á

### Must have (–§–∞–∑–∞ 1)
- üî¥ **–°–æ–∑–¥–∞—Ç—å API_REFERENCE.md** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä–æ–≤
- üî¥ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å INTEGRATION_GUIDE.md** ‚Äî —Ç–∞–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
- üî¥ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å README.md** ‚Äî –ø–µ—Ä–≤–æ–µ, —á—Ç–æ –≤–∏–¥—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

### Should have (–§–∞–∑–∞ 2)
- üü° **–¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç regression
- üü° **ERROR_HANDLING.md** ‚Äî –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏

### Nice to have (–§–∞–∑–∞ 3)
- üü¢ **mkdocs** ‚Äî –∫—Ä–∞—Å–∏–≤–æ, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- üü¢ **Type stubs** ‚Äî IDE –∏ —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ—Å—Ç–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ)
- üü¢ **Jupyter notebooks** ‚Äî –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è py_accountant —É—Å—Ç–∞—Ä–µ–ª–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ core-only –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç 4 —á–∞—Å–∞ –≤–º–µ—Å—Ç–æ 30 –º–∏–Ω—É—Ç.

### –†–µ—à–µ–Ω–∏–µ
–¢—Ä–µ—Ö—Ñ–∞–∑–Ω—ã–π –ø–ª–∞–Ω:
1. **–§–∞–∑–∞ 1 (must):** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (1-2 –¥–Ω—è)
2. **–§–∞–∑–∞ 2 (should):** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (2-3 –¥–Ω—è)
3. **–§–∞–∑–∞ 3 (nice):** –£–ª—É—á—à–∏—Ç—å UX –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –í—Ä–µ–º—è –ø–µ—Ä–≤–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: 4 —á–∞—Å–∞ ‚Üí 30 –º–∏–Ω—É—Ç (8x —É–ª—É—á—à–µ–Ω–∏–µ)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞—â–∏—â–µ–Ω–∞ —Ç–µ—Å—Ç–∞–º–∏ (CI –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–∏)
- ‚úÖ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ docstrings (single source of truth)
- ‚úÖ py_accountant —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∏–º–µ—Ä–æ–º —Ö–æ—Ä–æ—à–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥
–ü–æ—Å–ª–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
1. –£—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–ª–∞–Ω
2. –°–æ–∑–¥–∞—Ç—å issues –¥–ª—è –∑–∞–¥–∞—á –§–∞–∑—ã 1
3. –ù–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å API_REFERENCE.md

---

**–ì–æ—Ç–æ–≤ –∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—é –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞–º!** üöÄ

