# –ú–∞—Ç—Ä–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Üî –ö–æ–¥

–î–∞—Ç–∞: 2025-11-25  
–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞: 1.0.2  
–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è: Repository Planning Graph (RPG)

---

## –†–µ–∑—é–º–µ

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞ (use cases, protocols, DTOs) —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π, —á—Ç–æ–±—ã –≤—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–µ–ª—ã –∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è.

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **Use cases –≤ –∫–æ–¥–µ**: 18 async use cases
- **Protocols –≤ –∫–æ–¥–µ**: 12 protocols (6 async + 6 sync)
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö use cases**: ~8 (44%)
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö protocols**: ~5 (42%)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π**: **~40%** üü°

---

## 1. Use Cases

### 1.1 Currencies (3 use cases)

| Use Case (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `AsyncCreateCurrency` | INTEGRATION_GUIDE.md (–∫–æ—Å–≤–µ–Ω–Ω–æ) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ |
| `AsyncSetBaseCurrency` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |
| `AsyncListCurrencies` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/use_cases_async/currencies.py`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é "Currency Management" –≤ API_REFERENCE.md (—Å–ø—Ä–∏–Ω—Ç S3)

---

### 1.2 Accounts (3 use cases)

| Use Case (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `AsyncCreateAccount` | INTEGRATION_GUIDE.md (–∫–æ—Å–≤–µ–Ω–Ω–æ) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ |
| `AsyncGetAccount` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |
| `AsyncListAccounts` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/use_cases_async/accounts.py`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é "Account Management" –≤ API_REFERENCE.md (—Å–ø—Ä–∏–Ω—Ç S3)

---

### 1.3 Ledger (4 use cases)

| Use Case (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `AsyncPostTransaction` | INTEGRATION_GUIDE.md, README.md | üü¢ –•–æ—Ä–æ—à–æ | –ü—Ä–∏–º–µ—Ä—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã |
| `AsyncListTransactionsBetween` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |
| `AsyncGetLedger` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |
| `AsyncGetAccountBalance` | README.md (sync –≤–µ—Ä—Å–∏—è) | üü° –£—Å—Ç–∞—Ä–µ–ª | –ü–æ–∫–∞–∑–∞–Ω sync GetBalance –≤–º–µ—Å—Ç–æ async |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/use_cases_async/ledger.py`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: 
- –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä GetBalance –Ω–∞ async –≤–µ—Ä—Å–∏—é (—Å–ø—Ä–∏–Ω—Ç S2)
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ use cases (—Å–ø—Ä–∏–Ω—Ç S3)

---

### 1.4 Trading Balance (2 use cases)

| Use Case (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `AsyncGetTradingBalanceRaw` | TRADING_WINDOWS.md | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –ü–æ–∫–∞–∑–∞–Ω–∞ CLI –∫–æ–º–∞–Ω–¥–∞ –≤–º–µ—Å—Ç–æ API |
| `AsyncGetTradingBalanceDetailed` | RUNNING_MIGRATIONS.md | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –ü–æ–∫–∞–∑–∞–Ω–∞ CLI –∫–æ–º–∞–Ω–¥–∞ –≤–º–µ—Å—Ç–æ API |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/use_cases_async/trading_balance.py`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ó–∞–º–µ–Ω–∏—Ç—å CLI –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ API –ø—Ä–∏–º–µ—Ä—ã (—Å–ø—Ä–∏–Ω—Ç S2, P0)

---

### 1.5 FX Audit (2 use cases)

| Use Case (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `AsyncAddExchangeRateEvent` | FX_AUDIT.md | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –ü–æ–∫–∞–∑–∞–Ω–∞ CLI –∫–æ–º–∞–Ω–¥–∞ –≤–º–µ—Å—Ç–æ API |
| `AsyncListExchangeRateEvents` | FX_AUDIT.md | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –ü–æ–∫–∞–∑–∞–Ω–∞ CLI –∫–æ–º–∞–Ω–¥–∞ –≤–º–µ—Å—Ç–æ API |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/use_cases_async/fx_audit.py`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ó–∞–º–µ–Ω–∏—Ç—å CLI –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ API –ø—Ä–∏–º–µ—Ä—ã (—Å–ø—Ä–∏–Ω—Ç S2, P0)

---

### 1.6 FX Audit TTL (2 use cases)

| Use Case (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `AsyncPlanFxAuditTTL` | FX_AUDIT.md (—É–ø–æ–º–∏–Ω–∞–Ω–∏–µ) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ—Ç –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| `AsyncExecuteFxAuditTTL` | FX_AUDIT.md (—É–ø–æ–º–∏–Ω–∞–Ω–∏–µ) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ—Ç –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/use_cases_async/fx_audit_ttl.py`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è TTL API (—Å–ø—Ä–∏–Ω—Ç S4)

---

### 1.7 Reporting (2 use cases)

| Use Case (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `AsyncGetParityReport` | PARITY_REPORT.md (–∫–æ–Ω—Ü–µ–ø—Ü–∏—è) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ—Ç –ø—Ä–∏–º–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API |
| `AsyncGetTradingBalanceSnapshotReport` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/use_cases_async/reporting.py`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é "Reporting API" (—Å–ø—Ä–∏–Ω—Ç S4)

---

## 2. –ü–æ—Ä—Ç—ã (Protocols)

### 2.1 Async Protocols

| Protocol (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `AsyncUnitOfWork` | INTEGRATION_GUIDE.md | üü¢ –•–æ—Ä–æ—à–æ | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø–∏—Å–∞–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç |
| `AsyncCurrencyRepository` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |
| `AsyncAccountRepository` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |
| `AsyncTransactionRepository` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |
| `AsyncExchangeRateEventsRepository` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | - |
| `Clock` | README.md (—É–ø–æ–º–∏–Ω–∞–Ω–∏–µ) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/ports.py` (—Å—Ç—Ä–æ–∫–∏ 36-149)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –°–æ–∑–¥–∞—Ç—å `docs/PORTS_REFERENCE.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (—Å–ø—Ä–∏–Ω—Ç S4)

---

### 2.2 Sync Protocols (Legacy)

| Protocol (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------------|------------------|--------|----------|
| `UnitOfWork` (sync) | README.md | üü° –£—Å—Ç–∞—Ä–µ–ª | Sync –≤–µ—Ä—Å–∏—è deprecated, –Ω–æ –ø–æ–∫–∞–∑–∞–Ω–∞ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö |
| `CurrencyRepository` (sync) | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚ö™Ô∏è OK (legacy) | - |
| `AccountRepository` (sync) | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚ö™Ô∏è OK (legacy) | - |
| `TransactionRepository` (sync) | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚ö™Ô∏è OK (legacy) | - |
| `ExchangeRateEventsRepository` (sync) | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚ö™Ô∏è OK (legacy) | - |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/ports.py` (—Å—Ç—Ä–æ–∫–∏ 149-220)

**–°—Ç–∞—Ç—É—Å**: Sync –ø—Ä–æ—Ç–æ–∫–æ–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç—Å—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ deprecation sync API –≤ README (—Å–ø—Ä–∏–Ω—Ç S2)

---

## 3. –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### 3.1 –ü—Ä–∏–º–µ—Ä—ã –≤ README.md

| –ü—Ä–∏–º–µ—Ä (—Å—Ç—Ä–æ–∫–∏) | –†–∞–±–æ—Ç–∞–µ—Ç? | –Ø–∑—ã–∫ | –ü—Ä–æ–±–ª–µ–º—ã |
|-----------------|-----------|------|----------|
| 70-85: Sync PostTransaction | ‚úÖ –î–∞ | Python | –ü–æ–∫–∞–∑–∞–Ω sync API (deprecated) |
| 87-100: Async PostTransaction | ‚úÖ –î–∞ | Python | –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä |
| 102-110: GetBalance (sync) | ‚úÖ –î–∞ | Python | –ü–æ–∫–∞–∑–∞–Ω sync API (deprecated) |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: 
- –ü–æ–º–µ—Ç–∏—Ç—å sync –ø—Ä–∏–º–µ—Ä—ã –∫–∞–∫ deprecated (—Å–ø—Ä–∏–Ω—Ç S2)
- –î–æ–±–∞–≤–∏—Ç—å async –≤–µ—Ä—Å–∏—é –¥–ª—è GetBalance (—Å–ø—Ä–∏–Ω—Ç S2)

---

### 3.2 –ü—Ä–∏–º–µ—Ä—ã –≤ docs/INTEGRATION_GUIDE.md

| –ü—Ä–∏–º–µ—Ä (—Å—Ç—Ä–æ–∫–∏) | –†–∞–±–æ—Ç–∞–µ—Ç? | –Ø–∑—ã–∫ | –ü—Ä–æ–±–ª–µ–º—ã |
|-----------------|-----------|------|----------|
| 56-73: MyUnitOfWork | ‚úÖ –î–∞ | Python | –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏) |
| 78-92: post_deposit (sync) | ‚úÖ –î–∞ | Python | –ü–æ–∫–∞–∑–∞–Ω sync API |
| 95-99: get_balance (sync) | ‚úÖ –î–∞ | Python | –ü–æ–∫–∞–∑–∞–Ω sync API |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: 
- –î–æ–±–∞–≤–∏—Ç—å async –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–º–µ—Ä–æ–≤ (—Å–ø—Ä–∏–Ω—Ç S3)
- –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é UoW (—Å–ø—Ä–∏–Ω—Ç S3)

---

### 3.3 –ü—Ä–∏–º–µ—Ä—ã –≤ docs/INTEGRATION_GUIDE_AIOGRAM.md

| –†–∞–∑–¥–µ–ª | –†–∞–±–æ—Ç–∞–µ—Ç? | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|--------|-----------|--------|----------|
| UnitOfWork —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | ‚úÖ –î–∞ | üü¢ –ê–∫—Ç—É–∞–ª–µ–Ω | –û—Ç–ª–∏—á–Ω—ã–π –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä |
| Clock –∞–¥–∞–ø—Ç–µ—Ä | ‚úÖ –î–∞ | üü¢ –ê–∫—Ç—É–∞–ª–µ–Ω | - |
| Middleware DI | ‚úÖ –î–∞ | üü¢ –ê–∫—Ç—É–∞–ª–µ–Ω | - |
| Use case –≤—ã–∑–æ–≤—ã | ‚úÖ –î–∞ | üü¢ –ê–∫—Ç—É–∞–ª–µ–Ω | - |

**–û—Ü–µ–Ω–∫–∞**: **–°–∞–º—ã–π –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç** (2471 —Å—Ç—Ä–æ–∫–∞), —Å–æ–¥–µ—Ä–∂–∏—Ç production-ready –ø—Ä–∏–º–µ—Ä—ã.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —ç—Ç–∞–ª–æ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö integration guides (—Å–ø—Ä–∏–Ω—Ç S5)

---

### 3.4 –ü—Ä–∏–º–µ—Ä—ã –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –∫–æ–¥–∞ (examples/)

| –§–∞–π–ª | –†–∞–±–æ—Ç–∞–µ—Ç? | –Ø–∑—ã–∫ | –°—Ç–∞—Ç—É—Å |
|------|-----------|------|--------|
| `examples/telegram_bot/main.py` | ‚úÖ –î–∞ | Python | üü¢ –ê–∫—Ç—É–∞–ª–µ–Ω |
| `examples/telegram_bot/uow.py` | ‚úÖ –î–∞ | Python | üü¢ –ê–∫—Ç—É–∞–ª–µ–Ω |
| `examples/telegram_bot/clock.py` | ‚úÖ –î–∞ | Python | üü¢ –ê–∫—Ç—É–∞–ª–µ–Ω |

**–û—Ü–µ–Ω–∫–∞**: –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.

---

### 3.5 –ù–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–∏–º–µ—Ä—ã

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ | –ö–æ–º–∞–Ω–¥–∞/–ö–æ–¥ | –ü—Ä–æ–±–ª–µ–º–∞ |
|------|--------|-------------|----------|
| docs/FX_AUDIT.md | 59 | `python -m presentation.cli.main fx add-event` | ‚ùå –ú–æ–¥—É–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| docs/RUNNING_MIGRATIONS.md | 88 | `python -m presentation.cli.main trading detailed` | ‚ùå –ú–æ–¥—É–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| docs/TRADING_WINDOWS.md | 56, 60 | `python -m presentation.cli.main trading raw` | ‚ùå –ú–æ–¥—É–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |

**–í—Å–µ–≥–æ**: 4 –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –ø—Ä–∏–º–µ—Ä–∞ –∫–æ–º–∞–Ω–¥

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ P0 ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–µ—Ä—ã (—Å–ø—Ä–∏–Ω—Ç S2)

---

## 4. DTO –º–æ–¥–µ–ª–∏

### 4.1 –û—Å–Ω–æ–≤–Ω—ã–µ DTOs

| DTO (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å |
|-----------|------------------|--------|
| `CurrencyDTO` | ARCHITECTURE_OVERVIEW.md (–ø—Ä–∏–º–µ—Ä) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ |
| `AccountDTO` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| `TransactionDTO` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| `EntryLineDTO` | README.md (–∫–æ—Å–≤–µ–Ω–Ω–æ) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ |
| `RichTransactionDTO` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| `ExchangeRateEventDTO` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/application/dto/models.py`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –°–æ–∑–¥–∞—Ç—å `docs/DTO_REFERENCE.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö DTO (—Å–ø—Ä–∏–Ω—Ç S5)

---

### 4.2 Reporting DTOs

| DTO (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å |
|-----------|------------------|--------|
| `ParityReportDTO` | PARITY_REPORT.md (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞) | üü¢ –•–æ—Ä–æ—à–æ |
| `TradingRawBalanceDTO` | TRADING_WINDOWS.md (–∫–æ—Å–≤–µ–Ω–Ω–æ) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ |
| `TradingDetailedBalanceDTO` | ARCHITECTURE_OVERVIEW.md (–ø—Ä–∏–º–µ—Ä) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤ DTO_REFERENCE.md (—Å–ø—Ä–∏–Ω—Ç S5)

---

## 5. Domain –º–æ–¥–µ–ª–∏

### 5.1 Value Objects

| Value Object (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å |
|--------------------|------------------|--------|
| `Currency` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| `Account` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| `LedgerEntry` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| `ExchangeRateEvent` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |

**–õ–æ–∫–∞—Ü–∏—è –≤ –∫–æ–¥–µ**: `src/py_accountant/domain/`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: Domain models ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç public –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (P3)

---

### 5.2 Domain Services

| Service (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å |
|---------------|------------------|--------|
| `LedgerValidator` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| `BaseCurrencyRule` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç |
| `TradingWindowCalculator` | TRADING_WINDOWS.md (–∫–æ–Ω—Ü–µ–ø—Ü–∏—è) | üü° –ß–∞—Å—Ç–∏—á–Ω–æ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å "How It Works" —Å–µ–∫—Ü–∏–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (—Å–ø—Ä–∏–Ω—Ç S6)

---

## 6. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### 6.1 –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ UoW

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å |
|------------------|------------------|--------|
| `AsyncSqlAlchemyUnitOfWork` | INTEGRATION_GUIDE_AIOGRAM.md | üü¢ –û—Ç–ª–∏—á–Ω–æ |
| Sync SQLAlchemy UoW | - | ‚ö™Ô∏è –£–¥–∞–ª—ë–Ω (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ) |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å aiogram guide –∫–∞–∫ —ç—Ç–∞–ª–æ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ (—Å–ø—Ä–∏–Ω—Ç S5)

---

### 6.2 Repositories

| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∫–æ–¥) | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ | –°—Ç–∞—Ç—É—Å |
|------------------|------------------|--------|
| `AsyncSqlAlchemyCurrencyRepository` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚ö™Ô∏è OK (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π) |
| `AsyncSqlAlchemyAccountRepository` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚ö™Ô∏è OK (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π) |
| `AsyncSqlAlchemyTransactionRepository` | –ù–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚ö™Ô∏è OK (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π) |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø—É–±–ª–∏—á–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç—ã).

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –í—Å–µ–≥–æ –≤ –∫–æ–¥–µ | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ | –ü–æ–∫—Ä—ã—Ç–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|-----------|--------------|-----------------|----------|-----------|
| **Use Cases (async)** | 18 | 8 —á–∞—Å—Ç–∏—á–Ω–æ | 44% üü° | P1-P2 |
| **Protocols (async)** | 6 | 2 —á–∞—Å—Ç–∏—á–Ω–æ | 33% üü° | P2 |
| **DTOs** | 10+ | 3 —á–∞—Å—Ç–∏—á–Ω–æ | 30% üü° | P2-P3 |
| **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞** | ~15 | 11 —Ä–∞–±–æ—Ç–∞—é—Ç | 73% üü¢ | P0 (–∏—Å–ø—Ä–∞–≤–∏—Ç—å 4) |
| **Integration Guides** | 2 | 2 | 100% üü¢ | - |

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏

### üî¥ –ë–ª–æ–∫–µ—Ä—ã (P0)
1. **4 –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö CLI –ø—Ä–∏–º–µ—Ä–∞** –≤ FX_AUDIT.md, RUNNING_MIGRATIONS.md, TRADING_WINDOWS.md
2. –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `presentation.cli.main`

### üü° –í—ã—Å–æ–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (P1)
1. **10 –∏–∑ 18 use cases –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã** (56% –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
2. **Sync –ø—Ä–∏–º–µ—Ä—ã –≤ README** –º–æ–≥—É—Ç –≤–≤–µ—Å—Ç–∏ –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ (–ø–æ–∫–∞–∑–∞–Ω—ã deprecated API)
3. **4 –∏–∑ 6 async protocols –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã**

### üü¢ –•–æ—Ä–æ—à–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ
1. ‚úÖ **INTEGRATION_GUIDE_AIOGRAM.md** ‚Äî —ç—Ç–∞–ª–æ–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç (2471 —Å—Ç—Ä–æ–∫–∞)
2. ‚úÖ **examples/telegram_bot/** ‚Äî —Ä–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã
3. ‚úÖ **AsyncUnitOfWork protocol** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø–∏—Å–∞–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç
4. ‚úÖ **AsyncPostTransaction** ‚Äî —Ö–æ—Ä–æ—à–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –°–ø—Ä–∏–Ω—Ç S2 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
1. ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å 4 CLI –ø—Ä–∏–º–µ—Ä–∞ –Ω–∞ API –ø—Ä–∏–º–µ—Ä—ã
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ sync API deprecation
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å async –≤–µ—Ä—Å–∏—é GetAccountBalance –≤ README

### –°–ø—Ä–∏–Ω—Ç S3 (Use Cases Documentation)
1. üìù –°–æ–∑–¥–∞—Ç—å `docs/API_REFERENCE.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö 18 use cases
2. üìù –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è Currencies, Accounts, Trading Balance
3. üìù –û–±–Ω–æ–≤–∏—Ç—å INTEGRATION_GUIDE.md —Å async –ø—Ä–∏–º–µ—Ä–∞–º–∏

### –°–ø—Ä–∏–Ω—Ç S4 (Protocols & Advanced)
1. üìù –°–æ–∑–¥–∞—Ç—å `docs/PORTS_REFERENCE.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
2. üìù –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å FX TTL API
3. üìù –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å Reporting API

### –°–ø—Ä–∏–Ω—Ç S5 (DTOs & Integration)
1. üìù –°–æ–∑–¥–∞—Ç—å `docs/DTO_REFERENCE.md`
2. üìù –°–æ–∑–¥–∞—Ç—å integration guides –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ (FastAPI, Django)
3. üìù –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å examples/telegram_bot/README.md

### –°–ø—Ä–∏–Ω—Ç S6-S8 (Polish & Automation)
1. ü§ñ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é API docs (sphinx/mkdocs)
2. üß™ –î–æ–±–∞–≤–∏—Ç—å doctests –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞
3. üìä –°–æ–∑–¥–∞—Ç—å "How It Works" –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è domain services

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ø—Ä–∏–Ω—Ç–æ–≤ S2-S8:
- ‚úÖ **Use Cases –ø–æ–∫—Ä—ã—Ç–∏–µ**: 100% (18/18 –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã)
- ‚úÖ **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞**: 100% —Ä–∞–±–æ—Ç–∞—é—Ç (0 –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö)
- ‚úÖ **Protocols –ø–æ–∫—Ä—ã—Ç–∏–µ**: 100% async protocols (6/6)
- ‚úÖ **DTOs –ø–æ–∫—Ä—ã—Ç–∏–µ**: 80%+ –æ—Å–Ω–æ–≤–Ω—ã—Ö DTOs
- ‚úÖ **CI –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –í–µ—Ä—Å–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|--------|-----------|
| 2025-11-25 | 1.0 | –ü–µ—Ä–≤–∏—á–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è (–°–ø—Ä–∏–Ω—Ç S1) |

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: `docs/AUDIT_PRIORITIES.md` ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

